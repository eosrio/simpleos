<toaster-container [toasterconfig]="config"></toaster-container>
<div class="main-container">
  <div class="content-container">
    <div class="content-area">
      <!-- HEADER -->

      <!-- need to add dropdown to accounts -->

      <!-- <div class="row" style="margin-right: 0;">
        <div class="col-xs col-md max-width" style="padding-right: 0">
          <mat-tab-group id="header-tabs" (selectedIndexChange)="selectAccount($event)">
            <mat-tab *ngFor="let account of aService.accounts; let i = index">
              <ng-template mat-tab-label>
                <div style="font-size: 10px;">ACCOUNT {{i + 1}}</div>
                <div style="font-size: 17px;">{{account.name}}</div>
                <div class="value">{{account.full_balance}} EOS</div>
              </ng-template>
            </mat-tab>
          </mat-tab-group>
        </div> -->
        <!-- New Account -->
        <!-- <div class="col-xs-auto col-md-auto" style="padding-left: 0; padding-right: 0"
             (click)="newAccountModal = true">
          <div class="text-center navbar-btn newaccount">
            <div style="padding-top: 16px">
              <fa-icon [icon]="['fal', 'user-plus']" size="lg"></fa-icon>
            </div>
            <div style="font-size: 15px;">NEW</div>
            <div style="font-size: 15px;">ACCOUNT</div>
          </div>
        </div>
        SETTINGS-OLD
        <div class="col-xs-auto" style="padding-left: 0; padding-right: 0">
          <div class="text-center navbar-btn cog" [routerLink]="['config']">
            <div>
              <fa-icon [icon]="['fal', 'cog']" size="2x"></fa-icon>
            </div>
          </div>
        </div>
      </div> -->

      <div class="content">
        <router-outlet></router-outlet>
      </div>
    </div>

    <!-- SIDE NAV -->
    <nav class="sidenav">
      <section class="sidenav-header">
        <div class="sidenav-logo">
        </div>
      </section>
      <section #sidenavContent class="sidenav-content">
        <a class="nav-link">
          <div class="row">
            <div class="col">
              <svg width="24" height="24" viewBox="0 0 23 23">
                <defs>
                  <path id="dashboard-a" d="M17.5996,18.8376 L19.3736,20.6116 C17.6776,22.0606 15.5456,23.0106 13.1976,23.2326 L13.1976,20.7136 C14.8536,20.5096 16.3676,19.8416 17.5996,18.8376 Z M13.1978,3.5251 L13.1978,1.0061 C18.8658,1.5421 23.3018,6.3111 23.3018,12.1191 C23.3018,14.8021 22.3538,17.2621 20.7778,19.1871 L18.9908,17.4001 C20.1218,15.9361 20.8018,14.1081 20.8018,12.1191 C20.8018,7.7011 17.4758,4.0511 13.1978,3.5251 Z M11.1978,20.7326 L11.1978,23.2386 C5.9318,22.7996 1.7108,18.7116 1.0638,13.5066 L3.5908,13.5066 C4.2088,17.3236 7.3198,20.3136 11.1978,20.7326 Z M3.5,11.507 L1,11.507 C1.303,5.939 5.673,1.461 11.198,1 L11.198,3.506 C7.06,3.953 3.794,7.326 3.5,11.507 Z"/>
                </defs>
                <g fill="none" fill-rule="evenodd" transform="translate(-1 -1)">
                  <use fill="#dddddd" xlink:href="#dashboard-a"/>
                </g>
              </svg>
            </div>
            <div class="col pl-1">Portfolio</div>
          </div>
        </a>
        <a class="nav-link" routerLinkActive="active" [routerLink]="['send']">
          <div class="row">
            <div class="col">
              <svg width="22" height="17" viewBox="0 0 22 17">
                <defs>
                  <path id="wallet-a" d="M17.069,13.533 C17.557,13.533 17.953,13.929 17.953,14.417 C17.953,14.905 17.557,15.301 17.069,15.301 C16.581,15.301 16.185,14.905 16.185,14.417 C16.185,13.929 16.581,13.533 17.069,13.533 Z M17.069,16.301 C18.108,16.301 18.953,15.456 18.953,14.417 C18.953,13.378 18.108,12.533 17.069,12.533 C16.031,12.533 15.185,13.378 15.185,14.417 C15.185,15.456 16.031,16.301 17.069,16.301 Z M3,18.75 L20.333,18.75 L20.333,10.083 L3,10.083 L3,18.75 Z M3,8.083 L17.123,8.083 L17.123,6 L3,6 L3,8.083 Z M20.787,8.084 L19.123,8.084 L19.123,5 C19.123,4.448 18.675,4 18.123,4 L2,4 C1.447,4 1,4.448 1,5 L1,9.084 C1,9.156 1.026,9.219 1.041,9.287 C1.015,9.397 1,9.512 1,9.63 L1,19.205 C1,20.058 1.692,20.75 2.546,20.75 L20.787,20.75 C21.641,20.75 22.333,20.058 22.333,19.205 L22.333,9.63 C22.333,8.776 21.641,8.084 20.787,8.084 Z"/>
                </defs>
                <g fill="none" fill-rule="evenodd" transform="translate(-1 -4)">
                  <use fill="#dddddd" xlink:href="#wallet-a"/>
                </g>
              </svg>
            </div>
            <div class="col pl-1">Wallet</div>
          </div>
        </a>
        <a class="nav-link" routerLinkActive="active" [routerLink]="['wallet']">
          <div class="row">
            <div class="col">
              <svg width="20" height="24" viewBox="0 0 24 24">
                <path fill="#DDD" fill-rule="evenodd" d="M21,21.25 L20.229,21.25 C20.241,20.768 20.196,15.067 12.211,11.664 C5.457,8.785 6.306,3.404 6.345,3.176 C6.355,3.116 6.341,3.06 6.341,3 L17.659,3 C17.658,3.06 17.644,3.116 17.654,3.177 C17.683,3.339 18.3,7.193 14.48,10.123 C14.042,10.459 13.959,11.087 14.295,11.525 C14.492,11.782 14.789,11.917 15.09,11.917 C15.302,11.917 15.516,11.849 15.697,11.71 C20.082,8.348 19.77,3.931 19.648,3 L21,3 C21.553,3 22,2.553 22,2 C22,1.448 21.553,1 21,1 L3,1 C2.447,1 2,1.448 2,2 C2,2.553 2.447,3 3,3 L4.354,3 C4.228,4.09 3.865,10.281 11.426,13.503 C18.26,16.416 18.235,21.024 18.231,21.211 C18.23,21.225 18.237,21.236 18.237,21.25 L5.762,21.25 C5.762,21.236 5.769,21.225 5.768,21.211 C5.767,21.178 5.684,17.857 9.744,15.042 C10.197,14.727 10.311,14.104 9.995,13.65 C9.682,13.197 9.059,13.082 8.604,13.398 C3.803,16.728 3.761,20.839 3.769,21.25 L3,21.25 C2.447,21.25 2,21.697 2,22.25 C2,22.803 2.447,23.25 3,23.25 L21,23.25 C21.553,23.25 22,22.803 22,22.25 C22,21.697 21.553,21.25 21,21.25" transform="translate(-2 -1)"/>
              </svg>
            </div>
            <div class="col pl-1">History</div>
          </div>
        </a>
        <a class="nav-link" routerLinkActive="active" [routerLink]="['vote']">
          <div class="row">
            <div class="col vote-icon">
              <svg width="23" height="19" viewBox="0 0 24 24">
                <defs>
                  <path id="vote-a" d="M11.267,8.88735011 L10.636,11.3553501 L10.308,11.0553501 C10.065,10.8333501 9.687,10.8503501 9.465,11.0943501 C9.243,11.3373501 9.26,11.7153501 9.503,11.9363501 L10.567,12.9063501 C10.678,13.0083501 10.822,13.0623501 10.968,13.0623501 C11.026,13.0623501 11.083,13.0543501 11.139,13.0373501 C11.34,12.9773501 11.495,12.8163501 11.546,12.6133501 L12.423,9.18235011 C12.504,8.86335011 12.312,8.53835011 11.993,8.45635011 C11.672,8.37435011 11.348,8.56835011 11.267,8.88735011 Z M6.105,14.2873501 C6.235,14.7203501 6.632,15.0003501 7.063,15.0003501 C7.158,15.0003501 7.254,14.9863501 7.35,14.9583501 C7.879,14.7993501 8.179,14.2413501 8.021,13.7123501 L6.234,7.75935011 L13.405,5.28535011 L16.105,14.2873501 C16.263,14.8163501 16.819,15.1143501 17.35,14.9583501 C17.879,14.7993501 18.179,14.2413501 18.021,13.7133501 L15.021,3.71335011 C14.943,3.45135011 14.761,3.23435011 14.519,3.11035011 C14.276,2.98535011 13.995,2.96635011 13.737,3.05435011 L4.674,6.18135011 C4.167,6.35635011 3.888,6.90035011 4.042,7.41435011 L6.105,14.2873501 Z M22.063,19.3753501 L13.875,19.3753501 C13.323,19.3753501 12.875,19.8233501 12.875,20.3753501 C12.875,20.9273501 13.323,21.3753501 13.875,21.3753501 L22.063,21.3753501 C22.616,21.3753501 23.063,20.9273501 23.063,20.3753501 C23.063,19.8233501 22.616,19.3753501 22.063,19.3753501 Z M23.063,17.0003501 C23.063,16.4483501 22.616,16.0003501 22.063,16.0003501 L2,16.0003501 C1.448,16.0003501 1,16.4483501 1,17.0003501 C1,17.5523501 1.448,18.0003501 2,18.0003501 L22.063,18.0003501 C22.616,18.0003501 23.063,17.5523501 23.063,17.0003501 Z"/>
                </defs>
                <g fill="none" fill-rule="evenodd" transform="translate(-1 -3)">
                  <use fill="#dddddd" xlink:href="#vote-a"/>
                </g>
              </svg>
            </div>
            <div class="col pl-1">Vote</div>
          </div>
        </a>
        <a class="nav-link" routerLinkActive="active" [routerLink]="['#']">
          <div class="row">
            <div class="col">
              <svg width="23" height="22" viewBox="0 0 23 22">
                <defs>
                  <path id="airdrop-a" d="M11.9567854,21.1062236 C11.6528343,21.1062236 11.4047496,20.8581389 11.4047496,20.5541878 C11.4047496,20.2492898 11.6528343,20.0012051 11.9567854,20.0012051 C12.2616834,20.0012051 12.5097681,20.2492898 12.5097681,20.5541878 C12.5097681,20.8581389 12.2616834,21.1062236 11.9567854,21.1062236 Z M5.89101969,3.27063786 L7.86149399,6.38779375 L3.89403252,6.38779375 L5.89101969,3.27063786 Z M20.538433,6.38779375 L16.5757059,6.38779375 L18.4069877,3.05853491 L20.538433,6.38779375 Z M15.6562775,8.28157011 L20.6388031,8.28157011 L13.2966322,16.2127055 L15.6562775,8.28157011 Z M8.25729325,8.28157011 L10.5648598,16.0384781 L3.74347729,8.28157011 L8.25729325,8.28157011 Z M14.6677262,8.28157011 L11.9567854,17.3934751 L9.24584451,8.28157011 L14.6677262,8.28157011 Z M13.4130994,2.89377636 L17.4165426,2.89377636 L15.7093032,5.99672893 L13.4130994,2.89377636 Z M8.90496477,6.26469829 L6.77351947,2.89377636 L11.113108,2.89377636 L8.90496477,6.26469829 Z M12.2417987,2.90135147 L14.8211221,6.38779375 L9.95695754,6.38779375 L12.2417987,2.90135147 Z M23.2853556,7.16613584 L19.6161639,1.43651545 C19.4419364,1.16475854 19.1417729,1 18.818884,1 L5.61452834,1 C5.29163947,1 4.99147592,1.16475854 4.81724849,1.43651545 L1.14995057,7.16045451 C0.921750515,7.51648446 0.956785377,7.98045967 1.23611739,8.29672032 L10.3830572,18.698287 C9.85374673,19.147112 9.51097321,19.8070931 9.51097321,20.5541878 C9.51097321,21.9025566 10.6084166,23 11.9567854,23 C13.306101,23 14.4035444,21.9025566 14.4035444,20.5541878 C14.4035444,19.8194026 14.0711867,19.1669966 13.5570264,18.7191185 L23.1821448,8.32039253 C23.4756801,8.00413188 23.5182901,7.5297409 23.2853556,7.16613584 Z"/>
                </defs>
                <g fill="none" fill-rule="evenodd" transform="translate(-1 -1)">
                  <use fill="#dddddd" xlink:href="#airdrop-a"/>
                </g>
              </svg>
            </div>
            <div class="col pl-1">Airdrop Support</div>
          </div>
        </a>
        <a class="nav-link" routerLinkActive="active" [routerLink]="['config']">
          <div class="row">
            <div class="col">
              <svg width="20" height="20" viewBox="0 0 20 20">
                <defs>
                  <path id="settings-a" d="M10.2244937,13.6782979 C10.7065935,14.1370213 11.2727213,14.36 11.955979,14.36 C12.6426317,14.36 13.2113058,14.1344681 13.6951031,13.6714894 C14.1678665,13.2187234 14.3970336,12.6723404 14.3970336,12 C14.3970336,11.3276596 14.1678665,10.7804255 13.6951031,10.3276596 C13.2113058,9.86553191 12.6426317,9.64 11.955979,9.64 C11.2735701,9.64 10.7142325,9.86297872 10.2465617,10.3208511 C9.78313476,10.7744681 9.5590602,11.3234043 9.5590602,12 C9.5590602,12.6765957 9.77719339,13.226383 10.2244937,13.6782979 Z M11.955979,16.0621277 C10.8279673,16.0621277 9.84848984,15.6714894 9.04470723,14.9021277 L9.03112696,14.8885106 C8.25535367,14.1106383 7.86152566,13.1387234 7.86152566,12 C7.86152566,10.8570213 8.26469011,9.88255319 9.06083381,9.10382979 C9.85018737,8.33021277 10.8237234,7.93787234 11.955979,7.93787234 C13.0839907,7.93787234 14.0634681,8.32765957 14.8672507,9.09702128 C15.6820673,9.87659574 16.0945682,10.853617 16.0945682,12 C16.0945682,13.146383 15.6820673,14.1225532 14.8672507,14.9021277 C14.0634681,15.6714894 13.0839907,16.0621277 11.955979,16.0621277 Z M5.56561019,6.22212766 L5.54693731,6.25191489 C5.55457622,6.24255319 5.56051759,6.23234043 5.56561019,6.22212766 Z M18.9158706,6.38297872 L18.8683396,6.40255319 C18.8844662,6.39744681 18.9014415,6.3906383 18.9158706,6.38297872 Z M20.3927256,8.9012766 C20.3893306,8.90468085 20.3850867,8.90808511 20.3808429,8.9106383 L20.3927256,8.9012766 Z M3.57525094,15.0893617 L3.56251943,15.0978723 C3.56676327,15.0953191 3.57100711,15.0919149 3.57525094,15.0893617 Z M5.03852572,17.6 C5.02155037,17.6051064 5.00797009,17.6110638 4.99778489,17.6161702 L5.03852572,17.6 Z M18.4524437,17.747234 C18.4456535,17.7574468 18.4397121,17.7676596 18.4346195,17.7770213 L18.4524437,17.747234 Z M10.4596023,20.2978723 L13.5839146,20.2978723 L13.9531284,17.7523404 L14.428438,17.5787234 C14.5727285,17.5259574 14.9453373,17.3480851 15.8212651,16.7506383 L16.1896301,16.4987234 L18.6315336,17.4510638 L20.1805338,14.8808511 L18.0076896,13.3046809 L18.0934151,12.7846809 C18.1036003,12.7251064 18.126517,12.5293617 18.126517,12 C18.126517,11.8978723 18.1188781,11.7574468 18.1061466,11.5778723 C18.09002,11.3421277 18.0823811,11.1761702 18.0823811,11.0757447 L18.0823811,10.652766 L20.0973546,9.12510638 L18.5330765,6.53531915 L16.0945682,7.50808511 L15.7185643,7.23829787 C15.161773,6.84 14.6907071,6.56170213 14.3164007,6.41191489 L13.8521251,6.22638298 L13.5321398,3.70212766 L10.4163151,3.70212766 L10.0471014,6.24765957 L9.57094294,6.4212766 C9.42750127,6.47404255 9.05489244,6.65191489 8.17896462,7.2493617 L7.80975085,7.5012766 L5.36784742,6.54893617 L3.81630085,9.12170213 L5.87371271,10.6468085 L5.87371271,11.0757447 C5.87371271,11.1761702 5.8660738,11.3421277 5.85079599,11.5744681 C5.83721572,11.7574468 5.82957681,11.8978723 5.82957681,12 C5.82957681,12.1021277 5.83721572,12.2425532 5.84994723,12.4212766 C5.8660738,12.6578723 5.87371271,12.8238298 5.87371271,12.9234043 L5.87371271,13.347234 L3.85873921,14.8740426 L5.41622715,17.452766 L7.86492073,16.4944681 L8.23752956,16.7617021 C8.79347212,17.16 9.26538672,17.4374468 9.63969309,17.587234 L10.0937836,17.7702128 L10.4596023,20.2978723 Z M13.8860757,22 L10.1574411,22 C9.50558786,22 9.00566394,21.6187234 8.85203706,21.0042553 L8.83506172,20.9191489 L8.55072468,18.9582979 C8.26638765,18.812766 7.96252896,18.6314894 7.63235849,18.4110638 L5.68358884,19.1710638 C5.34917454,19.3429787 5.00712133,19.293617 4.79492951,19.2161702 C4.58358646,19.1404255 4.29840066,18.9651064 4.10063788,18.56 L2.23759372,15.4757447 C1.86328736,14.8042553 1.99654382,14.1285106 2.55927652,13.7259574 L4.15495899,12.5165957 C4.13968118,12.3004255 4.13204227,12.1268085 4.13204227,12 C4.13204227,11.8740426 4.13883241,11.7038298 4.15495899,11.4893617 L2.40819594,10.1829787 C1.9710808,9.74638298 1.87941394,9.14893617 2.1603559,8.58468085 L4.08026747,5.40085106 C4.35526806,4.84170213 4.99099475,4.58553191 5.62926774,4.82468085 L7.59755904,5.59234043 C7.95234376,5.35914894 8.2519586,5.1787234 8.50658878,5.04340426 L8.80790116,2.99574468 C8.96237681,2.3812766 9.46230073,2 10.1133052,2 L13.8427886,2 C14.4937931,2 14.993717,2.3812766 15.1481927,2.99574468 L15.1668656,3.09531915 L15.4138568,5.04595745 C15.69395,5.18978723 15.9952624,5.3693617 16.321189,5.58723404 L18.2241253,4.8306383 C18.8004382,4.53787234 19.4803008,4.76680851 19.8486658,5.42808511 L21.7185001,8.52425532 C22.0919577,9.19489362 21.95955,9.87148936 21.3968173,10.2740426 L19.8011349,11.4834043 C19.8164127,11.6995745 19.8240516,11.8723404 19.8240516,12 C19.8240516,12.1948936 19.8215053,12.3659574 19.8155639,12.5148936 L21.5920338,13.8170213 C22.0283002,14.253617 22.1208158,14.8510638 21.8398738,15.4153191 L19.9199623,18.5982979 C19.6441129,19.1574468 19.0066887,19.4119149 18.370962,19.1753191 L16.4018219,18.4076596 C16.0470372,18.6408511 15.7482711,18.8212766 15.493641,18.9557447 L15.1923286,21.0042553 C15.0378529,21.6187234 14.537929,22 13.8860757,22 Z"/>
                </defs>
                <g fill="none" fill-rule="evenodd" transform="translate(-2 -2)">
                  <use fill="#dddddd" xlink:href="#settings-a"/>
                </g>
              </svg>
            </div>
            <div class="col pl-1">Settings</div>
          </div>
        </a>


        <!-- <a class="nav-link" routerLinkActive="active" [routerLink]="['wallet']">
          <fa-icon [icon]="['far', 'history']"></fa-icon>&nbsp;&nbsp;History
        </a>
        <a class="nav-link" routerLinkActive="active" [routerLink]="['send']">
          <fa-icon [icon]="['far', 'paper-plane']"></fa-icon>&nbsp;&nbsp;Wallet
        </a> -->
        <!--<a href="..." class="nav-link" routerLinkActive="active" [routerLink]="['history']">-->
        <!--<fa-icon [icon]="['far', 'history']"></fa-icon>&nbsp;&nbsp;HISTORY-->
        <!--</a>-->
        <!-- <a class="nav-link" routerLinkActive="active" [routerLink]="['vote']">
          <fa-icon [icon]="['far', 'edit']"></fa-icon>&nbsp;&nbsp;Vote
        </a> -->
        <!--<a class="nav-link" routerLinkActive="active" [routerLink]="['ram']">-->
          <!--<fa-icon [icon]="['far', 'memory']"></fa-icon>&nbsp;&nbsp;RAM MARKET-->
        <!--</a>-->
      <!-- ACCOUNTS -->
      </section>
      <section class="accounts-nav">
        <div class="col-xs-auto mx-auto">
          <div class="dropdown mb-2">
            <button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <!-- <div>{{account.name}}</div> -->
              Account Name
            </button>
            <div class="dropdown-menu">
              <a class="dropdown-item" href="#">Account 1</a>
              <a class="dropdown-item" href="#">Account 2</a>
              <!-- Dropdown menu links -->
            </div>
          </div>
        </div>
        <!-- <div class="version">v0.6.2-1</div> -->
      </section>
    </nav>
  </div>
</div>


<clr-wizard #newAccountWizard [(clrWizardOpen)]="newAccountModal" clrWizardSize="lg">
  <clr-wizard-title>New account</clr-wizard-title>
  <clr-wizard-button [type]="'cancel'">Cancel</clr-wizard-button>
  <clr-wizard-button [type]="'previous'">Back</clr-wizard-button>
  <clr-wizard-button [type]="'next'">Next</clr-wizard-button>
  <clr-wizard-button [type]="'finish'">Finish</clr-wizard-button>
  <clr-wizard-page [clrWizardPageNextDisabled]="newAccOptions === ''">
    <ng-template clrPageTitle>Select Method</ng-template>
    <h5 style="color: #a9a9a9" class="mb-1">Create new account</h5>
    <mat-radio-group class="example-radio-group" [(ngModel)]="newAccOptions">
      <mat-radio-button class="example-radio-button" value="thispk">
        Associated with this private key
      </mat-radio-button>
      <mat-radio-button class="example-radio-button" value="newpk">
        Associated with new private key
      </mat-radio-button>
      <mat-radio-button class="example-radio-button" value="friend">
        For a friend
      </mat-radio-button>
    </mat-radio-group>
  </clr-wizard-page>

  <clr-wizard-page *ngIf="newAccOptions === 'friend'" [clrWizardPageNextDisabled]="payloadError">
    <ng-template clrPageTitle>Import Code</ng-template>
    <h5 style="color: #a9a9a9" class="mb-1">Create an account for a friend</h5>
    <h5>Please paste the code you've received on the area below.</h5>
    <div class="form-group">
      <label for="textarea">Account request code</label>
      <textarea #requestcode id="textarea" rows="5" (keyup)="decodeAccountPayload(requestcode.value)"
                (blur)="decodeAccountPayload(requestcode.value)"></textarea>
      <mat-hint>ctrl v to paste</mat-hint>
    </div>
    <mat-error *ngIf="payloadError">
      Invalid code, please verify with the sender. It must always end with a <strong>equal (=) char.</strong>
    </mat-error>
    <ng-container *ngIf="requestcode.value !== '' && !payloadError">
      <h5 class="m-0" style="color: #a9a9a9">Requested On: <span class="blue">{{newAccountData.t}}</span></h5>
      <h5 class="m-0" style="color: #a9a9a9">Account Name: <span class="blue">{{newAccountData.n}}</span></h5>
      <h5 class="m-0" style="color: #a9a9a9">Owner Public Key: </h5><span class="blue">{{newAccountData.o}}</span>
      <h5 class="m-0" style="color: #a9a9a9">Active Public Key: </h5><span
      class="blue">{{newAccountData.a}}</span>
    </ng-container>
  </clr-wizard-page>

  <!--Choose acc name: Associated with THIS or NEW pk-->
  <clr-wizard-page *ngIf="newAccOptions === 'thispk' || newAccOptions === 'newpk'"
                   [clrWizardPageNextDisabled]="!accountname_valid"
                   [clrWizardPagePreventDefault]="true"
                   (clrWizardPageOnCommit)="verifyAccountName(true)"
                   (clrWizardPagePrevious)="newAccountWizard.previous()"
                   (clrWizardPageOnCancel)="resetAndClose()">
    <ng-template clrPageTitle>Account Name</ng-template>
    <h5 style="color: #a9a9a9">Choose your account name</h5>
    <h5 class="mt-0">12 characters. Allows all letters and numbers 1-5.</h5>
    <mat-form-field class="mt-1" style="display: block; width: 180px">
      <input matInput #account placeholder="EOS account name" maxlength="12"
             (keyup.enter)="verifyAccountName(false)"
             [(ngModel)]="accountname">
      <mat-hint align="end">{{account.value.length}} / 12</mat-hint>
    </mat-form-field>
    <button class="btn btn-info-outline mt-1" (click)="verifyAccountName(false)">Check availability</button>
    <p class="error">{{accountname_err}}</p>
    <p *ngIf="account.value.length === 12 && accountname_valid" class="blue">
      <strong>{{accountname}}</strong>
      is currently available. Click
      <strong>NEXT</strong>
      to continue.
    </p>
  </clr-wizard-page>

  <clr-wizard-page *ngIf="newAccOptions === 'newpk'"
                   [clrWizardPageNextDisabled]="activepub === '' || ownerpub === '' || !agreeKeys">
    <ng-template clrPageTitle>Define Keys</ng-template>
    <h5>Selected account: <span class="blue">{{accountname}}</span></h5>
    <h5>Please enter your desired public keys or click the <span
      class="blue"> Generate Key Pairs </span>
      button.</h5>
    <mat-form-field class="mt-1" style="width: 470px">
      <input matInput placeholder="Owner Public key" [(ngModel)]="ownerpub">
      <fa-icon matSuffix [icon]="['far', 'clone']" size="lg" class="copy" (click)="cc(ownerpub)"></fa-icon>
      <mat-hint>ctrl c + ctrl v to copy & paste</mat-hint>
    </mat-form-field>
    <mat-form-field class="mt-1" style="width: 470px">
      <input matInput placeholder="Active Public key" [(ngModel)]="activepub">
      <fa-icon matSuffix [icon]="['far', 'clone']" size="lg" class="copy" (click)="cc(activepub)"></fa-icon>
    </mat-form-field>

    <button class="btn btn-info-outline" (click)="generateKeys()">Generate Key Pairs</button>

    <fa-layers *ngIf="generating" class="blue fa-fw">
      <fa-icon [icon]="['far','spinner']" size="2x" [spin]="true"></fa-icon>
    </fa-layers>

    <ng-container *ngIf="generated">
      <mat-form-field class="mt-1" style="width: 470px">
        <input matInput placeholder="Owner Private key" [(ngModel)]="ownerpk">
        <fa-icon matSuffix [icon]="['far', 'clone']" size="lg" class="copy" (click)="cc(ownerpk)"></fa-icon>
      </mat-form-field>
      <mat-form-field class="mt-1" style="width: 470px">
        <input matInput placeholder="Active Private key" [(ngModel)]="activepk">
        <fa-icon matSuffix [icon]="['far', 'clone']" size="lg" class="copy" (click)="cc(activepk)"></fa-icon>
      </mat-form-field>
      <mat-checkbox [(ngModel)]="agreeKeys">I have saved all my keys on a safe place</mat-checkbox>
    </ng-container>
  </clr-wizard-page>

  <clr-wizard-page [clrWizardPageNextDisabled]="!delegateForm.valid">
    <ng-template clrPageTitle>Account Resources</ng-template>

    <h5 style="color: #a9a9a9">You will create the account: {{newAccountData.n}}</h5>

    <form [formGroup]="delegateForm" class="pt-0">
      <!--Amount to delegate-->
      <mat-form-field class="mt-1" style="width: 273px">
        <input matInput type="text" placeholder="Amount to delegate (min = 1.0000 EOS)"
               [textMask]="{mask: numberMask}"
               formControlName="delegate_amount">
        <mat-error align="start" *ngIf="amounterror !== ''">
          {{amounterror}}
        </mat-error>
      </mat-form-field>

      <mat-checkbox formControlName="delegate_transfer">
        Check this if you want to transfer the delegated stake.
        <br>If you chose so this new account will be able to unstake
        <br>and claim those funds. If you leave unchecked you
        <br>will be able to remove the delegated stake in the future.
      </mat-checkbox>

      <!-- Ram to buy-->
      <mat-form-field class="mt-1" style="width: 273px;">
        <input matInput #ramAmount type="text"
               placeholder="How much ram to buy for this account (min = 4096 bytes)"
               formControlName="ram_amount" [textMask]="{mask: intMask}">
      </mat-form-field>
      <span style="margin: 0 12px;">=</span>
      <mat-form-field style="width: 100px">
        <input matInput placeholder="Price in eos" disabled readonly
               value="{{ram.ramPriceEOS * (ramAmount.value/1024) | number: '1.0-4'}} EOS">
      </mat-form-field>
      <!--Amount to Gift-->
      <mat-form-field class="mt-1" style="width: 273px">
        <input matInput placeholder="EOS Amount to gift (optional)" [textMask]="{mask: numberMask}"
               formControlName="gift_amount" type="text">
      </mat-form-field>
    </form>
  </clr-wizard-page>

  <clr-wizard-page [clrWizardPageNextDisabled]="!passform.valid" *ngIf="newAccOptions === 'newpk'">
    <ng-template clrPageTitle>Set Password</ng-template>
    <h5>Define your password for this account. This will be used to transactions confirmations.</h5>
    <form [formGroup]="passform" class="confirmForm">
      <mat-form-field class="mt-1" style="width: 180px;">
        <input matInput #newpass type="password" placeholder="Password" (blur)="passCompare()"
               [formControl]="passform['controls'].matchingPassword['controls']['pass1']">
        <fa-icon matSuffix *ngIf="newpass.type === 'password'" [icon]="['far', 'eye']" size="lg" class="copy"
                 (click)="newpass.type = 'text'"></fa-icon>
        <fa-icon matSuffix *ngIf="newpass.type === 'text'" [icon]="['far', 'eye-slash']" size="lg"
                 class="copy" (click)="newpass.type = 'password'"></fa-icon>
        <mat-hint align="start">
          Min 10 characters
        </mat-hint>
        <mat-hint align="end">{{newpass.value.length}} / 10+</mat-hint>
      </mat-form-field>

      <mat-form-field style="margin-top: 10px; display: block; width: 180px;">
        <input matInput #newpass2 type="password" placeholder="Confirm password" (blur)="passCompare()"
               [formControl]="passform['controls'].matchingPassword['controls']['pass2']">
        <fa-icon matSuffix *ngIf="newpass2.type === 'password'" [icon]="['far', 'eye']" size="lg" class="copy"
                 (click)="newpass2.type = 'text'"></fa-icon>
        <fa-icon matSuffix *ngIf="newpass2.type === 'text'" [icon]="['far', 'eye-slash']" size="lg"
                 class="copy" (click)="newpass2.type = 'password'"></fa-icon>
        <mat-error *ngIf="!passmatch">
          Passwords do not match!
        </mat-error>
      </mat-form-field>
    </form>
  </clr-wizard-page>

  <clr-wizard-page (clrWizardPageOnLoad)="loadLastPage()" [clrWizardPageNextDisabled]="!success">
    <ng-template clrPageTitle>Sign Transaction</ng-template>
    <p-accordion>
      <p-accordionTab header="By submiting this transaction, you agree to the following Ricardian Contract">
        As an authorized party I {{ final_creator }} wish to exercise the authority of {{ final_creator }}
        to create a new account on this system named {{ final_name }} such that the new account's owner public
        key shall be {{ final_owner }} and the active public key shall be {{ final_active }}.
      </p-accordionTab>
    </p-accordion>
    <form [formGroup]="submitTXForm" class="confirmForm">
      <mat-form-field>
        <input matInput type="password" (keyup.enter)="executeTX()" placeholder="Password"
               formControlName="pass">
        <mat-hint class="error" align="start" *ngIf="wrongwalletpass !== ''">
          {{wrongwalletpass}}
        </mat-hint>
        <br clear="all"/>
      </mat-form-field>
      <button type="button" class="btn btn-info-outline" style="margin-top: 1px; margin-left: 10px;"
              (click)="executeTX()" [disabled]="!submitTXForm.valid || busy">
        Confirm
        <fa-icon [icon]="['far','spinner']" [spin]="true" *ngIf="busy"></fa-icon>
      </button>
      <ng-container *ngIf="success">
        <div class="blue mt-1">Account created successfully!</div>
        <div><span class="blue">Transaction id:</span>
          <a (click)="openTXID()" pTooltip="Open on explorer" appendTo="body"
             style="cursor: pointer; color: #bebebe;">
            {{confirmationID}}
          </a>
        </div>
        <span *ngIf="newAccOptions === 'friend'">
                    Send the transaction id to your friend to confirm you created the account! :D
                </span>
      </ng-container>
    </form>
  </clr-wizard-page>

</clr-wizard>
